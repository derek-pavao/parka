<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <title>Parka</title>
    <meta name="generator" content="Hugo 0.15" />

    
    <meta name="description" content="Documentation for the TypeScript server framework, Parka.">
    
    <link rel="canonical" href="http://dotdeeka.github.io/parka/">
    
    <meta name="author" content="Derek Pavao">
    

    <meta property="og:url" content="http://dotdeeka.github.io/parka/">
    <meta property="og:title" content="Parka">
    <meta property="og:image" content="http://dotdeeka.github.io/parka/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Parka">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://dotdeeka.github.io/parka/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://dotdeeka.github.io/parka/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://dotdeeka.github.io/parka/fonts/icon.eot?52m981');
        src: url('http://dotdeeka.github.io/parka/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('http://dotdeeka.github.io/parka/fonts/icon.woff?52m981')
               format('woff'),
             url('http://dotdeeka.github.io/parka/fonts/icon.ttf?52m981')
               format('truetype'),
             url('http://dotdeeka.github.io/parka/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://dotdeeka.github.io/parka/stylesheets/application.css">
    <link rel="stylesheet" href="http://dotdeeka.github.io/parka/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://dotdeeka.github.io/parka/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu%2bMono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>
    
    
    <script src="http://dotdeeka.github.io/parka/javascripts/modernizr.js"></script>

    
    <link href="http://dotdeeka.github.io/parka/index.xml" rel="alternate" type="application/rss+xml" title="Parka" />
    <link href="http://dotdeeka.github.io/parka/index.xml" rel="feed" type="application/rss+xml" title="Parka" />
    

  </head>
  <body class="palette-primary-blue palette-accent-light green">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Parka
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/dotDeeka" title="@dotDeeka on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://dotdeeka.github.io/parka/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://dotdeeka.github.io/parka/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Parka <span class="version">0.2.3</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="http://dotdeeka.github.io/parka/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="http://dotdeeka.github.io/parka/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    


<a class="current" title="Parka" href="http://dotdeeka.github.io/parka/">
	Parka
</a>


<ul id="scrollspy">
</ul>
  
  
</li>



<li>
  
    


<a  title="Getting started" href="http://dotdeeka.github.io/parka/getting-started/">
	Getting started
</a>

  
  
</li>



<li>
  
    


<a  title="Resource Classes" href="http://dotdeeka.github.io/parka/resource-classes/">
	Resource Classes
</a>

  
  
</li>



<li>
  
    


<a  title="Database Access" href="http://dotdeeka.github.io/parka/database-access/">
	Database Access
</a>

  
  
</li>

        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/dotDeeka" target="_blank" title="@dotDeeka on GitHub">
              @dotDeeka on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			
				<h1>Parka </h1>

				

<div class="admonition note">
<p class="admonition-title">Not Production Ready</p>
<p>Parka is still in a pre-alpha type state, and is not feature complete let alone stable and ready for the prime time</p>
</div>

<h2 id="what-is-parka">What is Parka?</h2>

<p>Parka is a server side framework that allows you to write simple REST services in TypeScript. It allows you to take advantage
of TypeScript decorators to do things like define routes in a simple and declaritive way. Parka takes its inspiration from
mainly two frameworks, <a href="http://www.dropwizard.io/">Dropwizard</a> (a JAX-RS framework for Java) and <a href="http://redstonedart.org/">Redstone</a>
a micro framework for the Dart programming language.</p>

<p>Like Dropwizard I&rsquo;m not sure if Parka is really a framework or a library. Its really just a thin layer that sits ontop of
Express.js and runs as a NodeJS application. It is simple, but what you end up with is a very clean and declaritive
way to write a REST API with Object Oriented style code.</p>

<h2 id="why-parka">Why Parka?</h2>

<p>A while back I had been playing around with the Dart language and saw the Redstone.dart framework. I liked both Dart and the
Redstone framework. However, the fact that I was a novice in Dart meant it took me a while to get anything done, so I ended
up going back to writing my side projects in NodeJS. Fast forward a few years and TypeScript is all the rage right now with
the guys on the Angular team at Google getting behind it and all. TypeScript has support for Decorators (which are similar
enough to Annotations that are present in languages like Java or Dart. The differences between these two I will save for another
time). Decorators would allow a framework like Redstone or Dropwizard to be writtin in TypeScript. And given TypeScript&rsquo;s
great interop with the existing JavaScript ecosystem it makes a lot of sense.</p>

<h2 id="a-routing-example">A Routing Example</h2>

<h3 id="defining-a-resource-class">Defining a Resource Class</h3>

<p>In Parka, routes are defined as part of Resource classes. These classes and their methods are decorated with the appropriate
decorators in order to tell Parka what methods should respond to which routes.</p>

<p>In the following examples and in all examples on this docs site we will be using an API for the typical TodoMVC application.
Sorry, I couldn&rsquo;t think of anything more exciting. Also, these examples will have some code from the ORM used in Parka,
<a href="http://vincit.github.io/objection.js/">Objection.js</a>, we&rsquo;ll get back to the ORM later.</p>

<h3 id="lets-start-with-a-resource-method-that-will-just-return-us-some-static-json-so-we-can-be-sure-it-is-working">Lets start with a resource method that will just return us some static json so we can be sure it is working</h3>

<pre><code class="language-javascript">import {Path, GET} from 'parka';

@Path('/todo')
export class TodoResource {

  @GET
  @Path('/status')
  public returnStatus() {

    return {
      status: 'OK'
    }
  }

}
</code></pre>

<p>Lets go over what this Resource Class does (when we register it with the Parka application, not shown here).
First we have two <code>@Path()</code> decorators, one on the class it self, and one on the <code>returnStatus()</code> method.
The <code>@Path()</code> decorator on the class defines the root path for the entire resource class. And the <code>@Path()</code>
decorator on the <code>returnStatus()</code> method is added to that root path to form the route that gets registered. In addition
to the <code>@Path()</code> decorators the <code>returnStatus()</code> method has a <code>@GET</code> decorator on it. This decorator signifies
which HTTP verb this method will respond to.</p>

<p>For example. When this code above is registered with Parka a route for <code>GET http://&lt;my_url&gt;/todo/status</code> will be registered
and when a user makes a GET request to that url they will get the <code>{ &quot;status&quot;: &quot;OK&quot; }</code> JSON back as a response</p>

<p><div class="admonition note">
<p class="admonition-title">A Note on Promises / Thenables</p>
<p>Parka has support for Promises and Thenables. If any Resource method returns a Promise or a Thenable, Parka will wait
till that promise is resolved and then return to the client whatever data the Promise was resolve with. Support for Promises
comes from the great <a href="http://bluebirdjs.com/">Bluebird</a> library.</p>
</div></p>

			
			
			<aside class="copyright" role="note">
				
				&copy; 2016 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">
					Material
				</a> theme.
			</aside>

			<footer class="footer">
				



<nav class="pagination" aria-label="Footer">
  <div class="previous">
  </div>

  
  
  <div class="next">
      <a href="http://dotdeeka.github.io/parka/getting-started/" title="Getting Started Creating the TodoMVC API">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Getting Started Creating the TodoMVC API
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  </div>
</nav>


			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="http://dotdeeka.github.io/parka/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(headers.length > 0) {
        for(var i = 0; i < headers.length; i++) {
          var li = document.createElement("li");
          li.setAttribute("class", "anchor");

          var a  = document.createElement("a");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", headers[i].innerHTML);
          a.innerHTML = headers[i].innerHTML;
          
          li.appendChild(a)
          scrollspy.appendChild(li);
        }
      } else {
        scrollspy.parentElement.removeChild(scrollspy)
      }
      

      /* Add permanent link next to the headers */
      var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

      for(var i = 0; i < headers.length; i++) {
          var a = document.createElement("a");
          a.setAttribute("class", "headerlink");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", "Permanent link")
          a.innerHTML = "#";
          headers[i].appendChild(a);
      }
    </script>

    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>